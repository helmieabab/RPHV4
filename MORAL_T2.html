<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RPH MORAL T2 - MOHAMAD HELMIE</title>
    <style>
        :root { --primary: #c0392b; --success: #27ae60; --ai: #8e44ad; }
        body { font-family: 'Segoe UI', sans-serif; background: #fdf2f2; padding: 15px; margin: 0; }
        .container { max-width: 1100px; margin: auto; background: white; padding: 30px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .header { text-align: center; border-bottom: 2px solid #333; margin-bottom: 25px; padding-bottom: 10px; }
        .header h1 { margin: 0; font-size: 22px; text-transform: uppercase; }
        .header p { margin: 5px 0; font-weight: bold; color: #555; }
        .input-section { background: #fff5f5; padding: 20px; border: 1px solid #ddd; border-radius: 8px; margin-bottom: 20px; }
        .grid-flex { display: flex; flex-wrap: wrap; gap: 15px; margin-bottom: 15px; }
        .grid-flex div { flex: 1; min-width: 200px; }
        label { font-weight: bold; font-size: 13px; color: var(--primary); display: block; margin-bottom: 5px; }
        select, input, textarea { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px; font-size: 14px; box-sizing: border-box; }
        .sp-table-wrapper { max-height: 300px; overflow-y: auto; border: 1px solid #ccc; border-radius: 5px; background: white; margin-top: 5px; }
        .sp-table { width: 100%; border-collapse: collapse; font-size: 13px; }
        .sp-table tr { cursor: pointer; border-bottom: 1px solid #eee; transition: 0.2s; }
        .sp-table tr:hover { background: #f1f1f1; }
        .sp-table td { padding: 12px; line-height: 1.5; }
        .selected-row { background: #f9ebea !important; font-weight: bold; border-left: 5px solid var(--primary); }
        .ai-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; margin-top: 20px; }
        .ai-box { border: 1px solid #d1d1d1; padding: 15px; border-radius: 8px; background: #fff; }
        .btn-ai { background: var(--ai); color: white; border: none; padding: 7px 12px; border-radius: 4px; cursor: pointer; font-size: 11px; margin-bottom: 8px; font-weight: bold; }
        .btn-save { background: var(--success); color: white; padding: 15px; border: none; border-radius: 5px; width: 100%; font-size: 16px; cursor: pointer; font-weight: bold; margin-top: 25px; }
        .footer-btns { display: flex; gap: 10px; margin-top: 15px; }
        .btn-util { flex: 1; padding: 12px; border: none; border-radius: 5px; cursor: pointer; color: white; font-weight: bold; text-align: center; text-decoration: none; font-size: 14px; }
        .rph-table { width: 100%; border-collapse: collapse; margin-top: 40px; border: 2px solid #000; background: white; }
        .rph-table td { border: 1px solid #000; padding: 12px; vertical-align: top; font-size: 14px; color: black; line-height: 1.6; }
        .label-cell { width: 220px; background: #f2f2f2; font-weight: bold; text-transform: uppercase; }
        @media print { .no-print { display: none; } }
    </style>
</head>
<body>

<div class="container no-print">
    <div class="header">
        <h1>RPH PENDIDIKAN MORAL</h1>
        <p>MOHAMAD HELMIE | PENDIDIKAN MORAL TAHUN 2</p>
    </div>

    <div class="input-section">
        <div class="grid-flex">
            <div><label>Tarikh</label><input type="date" id="tark" onchange="setHari()"></div>
            <div><label>Hari</label><input type="text" id="hari" readonly></div>
            <div><label>Minggu</label><select id="mng"></select></div>
            <div><label>Masa</label><input type="text" id="masa" placeholder="08:00 - 09:00"></div>
        </div>

        <div><label>Tema / Unit</label><input type="text" id="unit_title" readonly></div>

        <div style="margin-top:15px">
            <label>Standard Kandungan (Pilih SK)</label>
            <select id="sk_select" onchange="loadSP()">
                <option value="">-- Pilih Nilai --</option>
                <option value="1">1. Kepercayaan kepada Tuhan (Ajaran Agama/Kepercayaan)</option>
                <option value="2">2. Baik Hati (Bantuan kepada Ahli Keluarga)</option>
                <option value="3">3. Bertanggungjawab (Tanggungjawab dalam Keluarga)</option>
                <option value="4">4. Berterima Kasih (Hargai Ahli Keluarga)</option>
                <option value="5">5. Hemah Tinggi (Adab dalam Keluarga)</option>
                <option value="6">6. Hormat (Hormati Ahli Keluarga)</option>
                <option value="7">7. Kasih Sayang (Sayangi Ahli Keluarga)</option>
                <option value="8">8. Keadilan (Sikap Adil dalam Keluarga)</option>
                <option value="9">9. Keberanian (Berani demi Nama Baik Keluarga)</option>
                <option value="10">10. Kejujuran (Jujur terhadap Ahli Keluarga)</option>
                <option value="11">11. Kerajinan (Rajin dalam Keluarga)</option>
                <option value="12">12. Kerjasama (Kerjasama dalam Keluarga)</option>
                <option value="13">13. Kesederhanaan (Sikap Sederhana dalam Keluarga)</option>
                <option value="14">14. Toleransi (Toleransi dalam Keluarga)</option>
            </select>
        </div>

        <div style="margin-top:15px">
            <label>Standard Pembelajaran (Klik untuk pilih SP)</label>
            <div class="sp-table-wrapper">
                <table class="sp-table" id="sp-table-body"></table>
            </div>
        </div>

        <div class="ai-grid">
            <div class="ai-box">
                <button class="btn-ai" onclick="janaAI('obj')">✨ JANA OBJEKTIF</button>
                <textarea id="ai_obj" rows="4"></textarea>
            </div>
            <div class="ai-box">
                <button class="btn-ai" onclick="janaAI('act')">✨ JANA AKTIVITI</button>
                <textarea id="ai_act" rows="4"></textarea>
            </div>
            <div class="ai-box">
                <button class="btn-ai" onclick="janaAI('ref')">✨ JANA REFLEKSI</button>
                <textarea id="ai_ref" rows="4"></textarea>
            </div>
        </div>

        <button class="btn-save" onclick="simpan()">SIMPAN RPH KE JADUAL</button>
        
        <div class="footer-btns">
            <button class="btn-util" style="background:#333" onclick="window.print()">CETAK RPH (PDF)</button>
            <a href="index.html" class="btn-util" style="background:#7f8c8d">KEMBALI KE HUB</a>
        </div>
    </div>
</div>

<div id="output"></div>

<script>
const dataSP = {
    "1": ["1.1 Menyenaraikan ajaran agama atau kepercayaan dalam keluarga.", "1.2 Menjelaskan kepentingan mengamalkan ajaran agama atau kepercayaan dalam keluarga.", "1.3 Merumuskan kesan mengamalkan ajaran agama atau kepercayaan dalam keluarga.", "1.4 Melaksanakan ajaran agama atau kepercayaan dalam keluarga."],
    "2": ["2.1 Menyenaraikan jenis bantuan kepada ahli keluarga.", "2.2 Menjelaskan cara memberi bantuan kepada ahli keluarga.", "2.3 Menganalisis kesan memberi bantuan kepada ahli keluarga.", "2.4 Melahirkan perasaan apabila memberi bantuan kepada ahli keluarga."],
    "3": ["3.1 Menyenaraikan tanggungjawab dalam keluarga.", "3.2 Menerangkan cara melaksanakan tanggungjawab dalam keluarga.", "3.3 Menilai kepentingan melaksanakan tanggungjawab dalam keluarga.", "3.4 Menunjukkan sikap bertanggungjawab dalam keluarga."],
    "4": ["4.1 Mengenal pasti cara berterima kasih terhadap ahli keluarga.", "4.2 Menjelaskan kepentingan amalan berterima kasih terhadap ahli keluarga.", "4.3 Menilai kesan mengabaikan amalan berterima kasih terhadap ahli keluarga.", "4.4 Menunjukkan amalan berterima kasih terhadap ahli keluarga."],
    "5": ["5.1 Menyenaraikan adab dalam keluarga.", "5.2 Menjelaskan kepentingan beradab dalam keluarga.", "5.3 Menganalisis kesan tidak beradab dalam keluarga.", "5.4 Mengamalkan hemah tinggi dalam keluarga."],
    "6": ["6.1 Mengenal pasti cara menghormati ahli keluarga.", "6.2 Menerangkan kepentingan menghormati ahli keluarga.", "6.3 Menilai kesan menghormati ahli keluarga.", "6.4 Menunjukkan sikap hormat terhadap ahli keluarga."],
    "7": ["7.1 Menyenaraikan cara menyayangi ahli keluarga.", "7.2 Menjelaskan kepentingan menyayangi ahli keluarga.", "7.3 Merumuskan kesan menyayangi ahli keluarga.", "7.4 Menunjukkan kasih sayang terhadap ahli keluarga."],
    "8": ["8.1 Mengenal pasti sikap adil dalam keluarga.", "8.2 Menjelaskan kepentingan bersikap adil dalam keluarga.", "8.3 Menilai kesan tidak bersikap adil dalam keluarga.", "8.4 Mengamalkan sikap adil dalam keluarga."],
    "9": ["9.1 Menyenaraikan cara berani menjaga nama baik keluarga.", "9.2 Menerangkan kepentingan berani menjaga nama baik keluarga.", "9.3 Menilai kesan berani menjaga nama baik keluarga.", "9.4 Menunjukkan sikap berani menjaga nama baik keluarga."],
    "10": ["10.1 Mengenal pasti sikap jujur terhadap ahli keluarga.", "10.2 Menjelaskan kepentingan bersikap jujur terhadap ahli keluarga.", "10.3 Menilai kesan tidak bersikap jujur terhadap ahli keluarga.", "10.4 Mengamalkan sikap jujur terhadap ahli keluarga."],
    "11": ["11.1 Mengenal pasti ciri rajin dalam keluarga.", "11.2 Menjelaskan kepentingan bersikap rajin dalam keluarga.", "11.3 Menilai kesan tidak bersikap rajin dalam keluarga.", "11.4 Menunjukkan sikap rajin dalam keluarga."],
    "12": ["12.1 Menyenaraikan aktiviti yang dilakukan bersama ahli keluarga.", "12.2 Menjelaskan cara bekerjasama dengan ahli keluarga.", "12.3 Menilai kepentingan bekerjasama dengan ahli keluarga.", "12.4 Menunjukkan sikap kerjasama dalam keluarga."],
    "13": ["13.1 Mengenal pasti sikap sederhana dalam keluarga.", "13.2 Menjelaskan kepentingan bersikap sederhana dalam keluarga.", "13.3 Menilai kesan tidak bersikap sederhana dalam keluarga.", "13.4 Mengamalkan sikap sederhana dalam keluarga."],
    "14": ["14.1 Mengenal pasti cara bertoleransi dalam keluarga.", "14.2 Menjelaskan kepentingan bertoleransi dalam keluarga.", "14.3 Menilai kesan tidak bertoleransi dalam keluarga.", "14.4 Menunjukkan sikap toleransi dalam keluarga."]
};

let selectedSPs = [];
const mS = document.getElementById('mng'); for(let i=1; i<=42; i++) mS.innerHTML += `<option value="${i}">Minggu ${i}</option>`;

function setHari() { 
    let d = new Date(document.getElementById('tark').value); 
    document.getElementById('hari').value = ['Ahad','Isnin','Selasa','Rabu','Khamis','Jumaat','Sabtu'][d.getDay()] || ''; 
}

function loadSP() {
    let sk = document.getElementById('sk_select').value;
    let skText = document.getElementById('sk_select').options[document.getElementById('sk_select').selectedIndex].text;
    document.getElementById('unit_title').value = skText;
    
    let b = document.getElementById('sp-table-body'); 
    b.innerHTML = "";
    selectedSPs = []; 
    if(dataSP[sk]) {
        dataSP[sk].forEach((s) => {
            let row = b.insertRow();
            row.onclick = function() { 
                if(this.classList.contains('selected-row')) {
                    this.classList.remove('selected-row');
                    selectedSPs = selectedSPs.filter(item => item !== s);
                } else {
                    this.classList.add('selected-row');
                    selectedSPs.push(s);
                }
            };
            row.innerHTML = `<td>${s}</td>`;
        });
    }
}

function janaAI(t) {
    let unit = document.getElementById('unit_title').value || "Unit Moral";
    if(selectedSPs.length === 0) return alert("Sila pilih SP dahulu!");
    if(t==='obj') {
        document.getElementById('ai_obj').value = `Pada akhir PdPc, murid dapat:\n1. Memahami dan mengamalkan nilai ${unit} berdasarkan Standard Pembelajaran yang dipilih dengan ikhlas.`;
    } else if(t==='act') {
        document.getElementById('ai_act').value = `1. Set Induksi: Murid mendengar cerita/situasi berkaitan ${unit}.\n2. Aktiviti: Murid membincangkan nilai murni dan membuat aktiviti pengukuhan (lakonan/lembaran kerja).\n3. Penutup: Murid membuat refleksi diri tentang amalan nilai tersebut dalam keluarga.`;
    } else {
        document.getElementById('ai_ref').value = `___ / ___ murid dapat menghayati nilai yang dipelajari hari ini.`;
    }
}

function simpan() {
    if(selectedSPs.length === 0) return alert("Pilih sekurang-kurangnya satu SP!");
    let skText = document.getElementById('sk_select').options[document.getElementById('sk_select').selectedIndex].text;
    let spHtml = selectedSPs.map(s => `• ${s}`).join("<br>");
    let html = `<table class="rph-table">
        <tr><td class="label-cell">INFO RPH</td><td>MG ${document.getElementById('mng').value} | ${document.getElementById('tark').value} | ${document.getElementById('hari').value}</td></tr>
        <tr><td class="label-cell">TEMA / UNIT</td><td>${skText} | ${document.getElementById('masa').value}</td></tr>
        <tr><td class="label-cell">STANDARD KANDUNGAN</td><td>${skText}</td></tr>
        <tr><td class="label-cell">STANDARD PEMBELAJARAN</td><td>${spHtml}</td></tr>
        <tr><td class="label-cell">OBJEKTIF</td><td>${document.getElementById('ai_obj').value.replace(/\n/g,"<br>")}</td></tr>
        <tr><td class="label-cell">AKTIVITI</td><td>${document.getElementById('ai_act').value.replace(/\n/g,"<br>")}</td></tr>
    </table><div style="page-break-after:always;"></div>`;
    document.getElementById('output').innerHTML += html;
}
</script>
</body>
</html>